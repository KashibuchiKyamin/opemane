<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>稼働登録フォーム</title>
  <link rel="stylesheet" href="../static/css/common.css">
  <link rel="stylesheet" href="../static/css/operation-input-form.css">
</head>

<body>
  <header>
    <h1>稼働管理</h1>
    <ul>
      <li><a href="project-list.html">プロジェクト一覧</a></li>
      <li><a href="calendar.html">稼働一覧</a></li>
      <li><a href="operation-input-form.html">新規稼働登録</a></li>
    </ul>
  </header>
  <main>

    <h1>稼働登録</h1>
    <form action="operation-input-result.html" method="post">
      <label for="date">稼働日: </label>
      <input type="date" name="inputDate" id="date">
      <table id="operation-table">
        <thead>
          <tr>
            <th scope="col">作業プロジェクト名</th>
            <th scope="col">作業時間(h)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <select name="projectKey" title="プロジェクト名称" required>
                <option value="">選択してください</option>
                <option value="1">●●対応</option>
                <option value="2">▲▲対応</option>
                <option value="3">保守対応</option>
                <option value="4">◎◎STEP2</option>
              </select>
            </td>
            <td>
              <input type="text" name="" title="作業時間(単位:時間)" placeholder="0.0">
            </td>
          </tr>
        </tbody>
      </table>
      <input type="button" value="行追加" id="row-add">
      <input type="submit" value="登録">
    </form>
    <div class="tr-template">
        <div id="select-list-template">
          <select name="projectKey" title="プロジェクト名称" required>
            <option value="">選択してください</option>
            <option value="1">●●対応</option>
            <option value="2">▲▲対応</option>
            <option value="3">保守対応</option>
            <option value="4">◎◎STEP2</option>
          </select>
        </div>
        <div id="text-box-template">
          <input type="text" name="" title="作業時間(単位:時間)" placeholder="0.0">
        </div>
    </div>
  </main>
  <script>
    const rowAddButton = document.getElementById('row-add');
    rowAddButton.onclick = function(){
      let tableRef = document.getElementById('operation-table');
      let addRow = tableRef.insertRow(-1);
      let newSelectBoxCell = addRow.insertCell(0);
      let selectList = document.getElementById('select-list-template').cloneNode(true);
      newSelectBoxCell.appendChild(selectList);
      let newTextBoxCell = addRow.insertCell(1);
      let textBox = document.getElementById('text-box-template').cloneNode(true);
      newTextBoxCell.appendChild(textBox);
    }

  </script>
</body>

</html>